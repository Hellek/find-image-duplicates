# Поиск дубликатов изображений

Веб-приложение для поиска дубликатов и визуально похожих изображений в локальных папках и на Яндекс.Диске.

## Возможности

### Источники данных

- **Локальная папка** — File System Access API или fallback через `input webkitdirectory`
- **Яндекс.Диск** — OAuth-подключение, только чтение

### Режимы поиска

- **Точные копии** — SHA-256, находит побайтовые дубликаты
- **Похожие** — перцептивное хэширование (blockhash), находит пережатые, масштабированные и слегка изменённые копии

### Яндекс.Диск

- Выбор конкретных папок или сканирование всего Диска
- Рекурсивный поиск по подпапкам
- Токен сохраняется в `sessionStorage` (до закрытия вкладки)
- Ссылки на папки в результатах открывают веб-интерфейс Диска

## Технологии

- Next.js 16, React 19, TypeScript
- Tailwind CSS, Radix UI
- blockhash-core для перцептивного хэширования

## Установка и запуск

```bash
npm install
npm run dev
```

Сборка (статический экспорт):

```bash
npm run build
```

Результат в `out/`. Для превью: `npm run preview`.

## Яндекс.Диск: получение OAuth-токена

1. Создайте приложение на [oauth.yandex.ru](https://oauth.yandex.ru)
2. Добавьте право доступа `cloud_api:disk.read`
3. Перейдите по ссылке:  
   `https://oauth.yandex.ru/authorize?response_type=token&client_id=<ClientID>`
4. Скопируйте токен с страницы авторизации

> При ошибках CORS используйте `npm run dev` или разверните на Vercel (серверная сборка).

## Скрипты

| Команда       | Описание              |
|---------------|------------------------|
| `npm run dev` | Разработка             |
| `npm run build` | Сборка                |
| `npm run lint` | ESLint                 |
| `npm run type-check` | Проверка типов  |
| `npm run test` | Тесты                  |
| `npm run fixtures:generate` | Генерация вариантов изображения (resize, качество, фильтры), см. `scripts/README.md` |
| `npm run fixtures:check-similar` | Проверка двух файлов/папок на перцептивную схожесть, см. `scripts/README.md` |
